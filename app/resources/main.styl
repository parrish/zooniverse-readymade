@require '../../node_modules/zooniverse/css/top-bar.css'
@require '../../node_modules/zooniverse/css/dialog.css'

MEDIUM_GRAY = #555

#_RESET_BUTTON
  background: transparent
  border: 0
  color: inherit
  cursor: pointer
  font: inherit
  line-height: inherit
  margin: 0
  padding: 0
  text-shadow: inherit

  &:disabled
    opacity: 0.5
    pointer-events: none

#_DECISION_TREE_META_BUTTON
  @extends #_RESET_BUTTON
  background: rgba(MEDIUM_GRAY, 0.5)
  display: block
  margin: 0 auto
  border: 1px solid
  border-radius: 3px
  font-size: 12px
  font-weight: bold
  line-height: 1
  padding: 0.25em 1em
  text-transform: uppercase


html
  background: MEDIUM_GRAY
  color: white
  font: 14px/2 "Helvetica Neue", Arial, sans-serif

body
  margin: 0

a
  color: lime

#readymade-site-background
  background-position: 50% 33%
  background-size: cover
  bottom: 0
  left: 0
  opacity: 0.33
  position: fixed
  right: 0
  top: 0
  transition: opacity 0.5s
  z-index: -1

  [data-location-hash="#/"] &
    opacity: 1

#readymade-site-background-effect
  background: radial-gradient(rgba(MEDIUM_GRAY, 0), black)
  bottom: 0
  left: 0
  opacity: 0
  position: absolute
  right: 0
  top: 0
  transition: opacity 1s

  [data-location-hash="#/"] &
    opacity: 1

.readymade-site-header
  padding: 20px 10vw 0

  .readymade-creator
    display: inline-block
    line-height: 1

    a
      color: inherit
      text-decoration: none

  .readymade-project-producer
    border-bottom: 1px solid
    font-size: 12px
    font-weight: bold
    letter-spacing: 2px
    margin-left: -1em
    padding-bottom: 1px
    text-transform: uppercase
    transition: font-size 0.5s

    [data-location-hash="#/"] &
      font-size: 24px

  .readymade-project-title
    font-size: 36px
    font-weight: lighter
    letter-spacing: 2px
    text-transform: uppercase
    transition: font-size 0.5s

    [data-location-hash="#/"] &
      font-size: 64px

  .readymade-site-links
    display: inline-block
    line-height: 1
    margin-left: 1em

  .readymade-site-link
    border-radius: 3px
    color: inherit
    font-size: 12px
    font-weight: bold
    letter-spacing: 2px
    margin-bottom: -0.5em
    padding: 0.5em 1em
    text-decoration: none
    text-transform: uppercase

    &:hover
      background: rgba(black, 0.25)

.readymade-main-stack
  margin: 20px auto
  width: 80vw

.readymade-home-page
    // TODO: Implement this more robustly.
    bottom: 10vh;
    left: 10vw;
    position: absolute;
    right: 10vw;

  .readymade-project-summary
    font-size: 36px
    font-weight: lighter

  .readymade-footer
    margin-top: 1em
    text-align: center

  .readymade-call-to-action
    background: rgba(white, 0.9)
    border-radius: 0.25em
    color: MEDIUM_GRAY
    display: inline-block
    font-size: 24px
    font-weight: bold
    line-height: 1
    padding: 0.5em 1.5em
    text-decoration: none

    &:hover
      background: white

.readymade-classification-interface
  display: table
  table-layout: fixed
  width: 100%

  .readymade-subject-viewer-container
    background: rgba(MEDIUM_GRAY, 0.67)
    border-radius: 5px
    box-shadow: 0 1px 5px -3px black inset
    display: table-cell
    overflow: hidden
    padding: 1em
    text-align: center
    vertical-align: middle
    width: 75%

  .readymade-marking-surface-container
    overflow: auto

  .marking-surface
    max-height: 90vh

  .marking-surface-svg
    color: lime

  .readymade-frame-controls
    line-height: 1

  .readymade-frame-play-controls
    display: inline-block
    margin-right: 10px

    button
      @extends #_RESET_BUTTON
      text-shadow: 0 1px 1px rgba(black, 0.5)
      width: 1.5em
      height: 1.5em

      &:disabled
        display: none

  .readymade-frame-toggles-list
    display: inline-block

    button
      @extends #_RESET_BUTTON
      background: rgba(black, 0.25)
      border-radius: 50%
      box-shadow:
        0 1px 1px rgba(black, 0.5) inset,
        0 1px 0 rgba(white, 0.1)
      color: transparent
      height: 1em
      width: 1em
      overflow: hidden
      position: relative

      &[data-selected]:before
        SPACE = 4px
        background: white
        border-radius: 50%
        bottom: SPACE
        content: ""
        left: SPACE
        position: absolute
        right: SPACE
        top: SPACE

  .readymade-decision-tree-container
    display: table-cell
    vertical-align: middle
    width: 25%

  .decision-tree
    padding-left: 15px

  button[name="decision-tree-go-back"]
    @extends #_DECISION_TREE_META_BUTTON

  .decision-tree-question
    text-align: center

  .decision-tree-input-wrapper
    position: relative

    input
      position: absolute
      visibility: hidden

  .decision-tree-clickable
    border-radius: 3px
    cursor: pointer
    margin-bottom: 5px
    padding: 5px 10px
    position: relative
    width: 100%

    &:hover
      background rgba(black, 0.25)

  :focus + .decision-tree-clickable
    outline: 1px dotted // TODO: Glow? Probably depends on the browser.

  :active + .decision-tree-clickable
    background: black
    color: white

  .decision-tree-radio,
  .decision-tree-checkbox
    .decision-tree-tickbox
      border: 2px solid
      display: inline-block
      vertical-align: middle
      height: 1em
      position: relative
      width: 1em

  .decision-tree-radio
    .decision-tree-tickbox
      border-radius: 50%

    .decision-tree-tick
      SPACE = 3px
      border-radius: 50%
      bottom: SPACE
      left: SPACE
      position: absolute
      right: SPACE
      top: SPACE

  :checked + .decision-tree-radio .decision-tree-tick
    background: white

  .decision-tree-checkbox
    .decision-tree-tick:before,
    .decision-tree-tick:after
      background: white
      display: none
      content: ""
      height: 0.8em
      left: 50%
      position: absolute
      top: 50%
      transform: translate(-50%, -50%) rotate(45deg)
      width: 2px

    .decision-tree-tick:after
      transform: translate(-50%, -50%) rotate(-45deg)

  :checked + .decision-tree-checkbox
    .decision-tree-tick:before,
    .decision-tree-tick:after
      display: block

  .decision-tree-drawing .decision-tree-tickbox
    background: inherit
    display: none
    position: absolute
    left: 0
    top: 50%
    width: 1em
    height: 1em
    transform: translate(-50%, -50%) rotate(45deg)

  :checked + .decision-tree-drawing
    background: black
    color: white

    .decision-tree-tickbox
      display: block

  .decision-tree-image
    display: inline-block
    line-height: 1
    vertical-align: middle

    img
      display: block

  .decision-tree-label
    display: inline-block
    vertical-align: middle

  .decision-tree-button .decision-tree-tickbox
    display: none

  button[name="decision-tree-confirm-task"]
    @extends #_DECISION_TREE_META_BUTTON
